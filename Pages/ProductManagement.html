<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        content: [],
        theme: {
          extend: {
            fontFamily: {
              ui_sans_serif: [
                "ui-sans-serif",
                "system-ui",
                "sans-serif",
                "Apple Color Emoji",
                "Segoe UI Emoji",
                "Segoe UI Symbol",
                "Noto Color Emoji",
              ],
              ui_monospace: [
                "ui-monospace",
                "SFMono-Regular",
                "Menlo",
                "Monaco",
                "Consolas",
                "Liberation Mono",
                "Courier New",
                "monospace",
              ],
            },
            animation: {
              "fade-in": "fadeIn 0.6s ease-out",
              "slide-up": "slideUp 0.6s ease-out",
              "slide-down": "slideDown 0.3s ease-out",
              "scale-in": "scaleIn 0.4s ease-out",
              "count-up": "countUp 1.5s ease-out",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0" },
                "100%": { opacity: "1" },
              },
              slideUp: {
                "0%": { opacity: "0", transform: "translateY(20px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              slideDown: {
                "0%": { opacity: "0", transform: "translateY(-10px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              scaleIn: {
                "0%": { opacity: "0", transform: "scale(0.95)" },
                "100%": { opacity: "1", transform: "scale(1)" },
              },
            },
          },
        },
      };
    </script>
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes scaleIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .animate-fade-in {
        animation: fadeIn 0.6s ease-out;
      }
      .animate-slide-up {
        animation: slideUp 0.6s ease-out;
      }
      .animate-slide-down {
        animation: slideDown 0.3s ease-out;
      }
      .animate-scale-in {
        animation: scaleIn 0.4s ease-out;
      }

      .stagger-1 {
        animation-delay: 0.1s;
        animation-fill-mode: both;
      }
      .stagger-2 {
        animation-delay: 0.2s;
        animation-fill-mode: both;
      }
      .stagger-3 {
        animation-delay: 0.3s;
        animation-fill-mode: both;
      }
      .stagger-4 {
        animation-delay: 0.4s;
        animation-fill-mode: both;
      }

      .transition-all {
        transition: all 0.3s ease;
      }

      .hover-lift:hover {
        transform: translateY(-2px);
        box-shadow:
          0 10px 25px -5px rgba(0, 0, 0, 0.1),
          0 8px 10px -6px rgba(0, 0, 0, 0.1);
      }

      .hover-scale:hover {
        transform: scale(1.02);
      }

      .sidebar-item {
        transition: all 0.2s ease;
      }
      .sidebar-item:hover {
        background-color: rgba(0, 0, 0, 0.03);
      }
      .sidebar-item.active {
        background-color: rgba(14, 165, 233, 0.1);
      }

      /* Mobile sidebar overlay */
      #sidebar-overlay {
        display: none;
      }
      #sidebar-overlay.active {
        display: block;
      }
      /* Sidebar mobile state */
      @media (max-width: 767px) {
        #main-sidebar {
          position: fixed;
          top: 3.5rem;
          left: 0;
          bottom: 0;
          z-index: 40;
          transform: translateX(-100%);
          transition: transform 0.2s ease;
        }
        #main-sidebar.open {
          transform: translateX(0);
        }
        #sidebar-overlay {
          position: fixed;
          inset: 0;
          top: 3.5rem;
          background: rgba(0, 0, 0, 0.3);
          z-index: 39;
        }
      }
      /* Table horizontal scroll on mobile */
      .table-scroll-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }

      @media (min-width: 768px) {
        #main-sidebar {
          width: 4rem !important;
          transition: width 0.25s ease;
          overflow: visible;
        }
        #main-sidebar nav {
          overflow-x: hidden;
          overflow-y: auto;
        }
        #main-sidebar.expanded {
          width: 14rem !important;
        }
        #main-sidebar.expanded .sidebar-nav-link {
          width: auto;
          justify-content: flex-start;
          padding-left: 0.5rem;
          padding-right: 0.5rem;
          margin-left: 0;
          margin-right: 0;
        }
        #main-sidebar.expanded .sidebar-nav-label {
          display: inline !important;
        }
        #main-sidebar.expanded .sidebar-section-label {
          display: block !important;
        }
        #main-sidebar.expanded #sidebar-expand-icon {
          transform: scaleX(-1);
        }
      }
    </style>

    <!-- ── Component configuration ───────────────────────────────────── -->
    <script>
      window.PAGE_ID = "products";
      window.ASSET_BASE = "https://c.animaapp.com/mlumnnrdWogcyt/assets";
    </script>
  </head>
  <body
    class="text-zinc-900 text-base not-italic normal-nums font-normal accent-auto bg-zinc-100 box-border caret-transparent block tracking-[normal] leading-6 list-outside list-disc outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-auto text-start indent-[0px] normal-case visible border-separate font-ui_sans_serif"
  >
    <div
      class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
    >
      <div
        class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
      >
        <div
          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
        >
          <div
            class="relative box-border caret-transparent basis-0 grow shrink-0 min-h-px min-w-px outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-full"
            style="height: 100vh"
          >
            <div
              class="bg-[linear-gradient(to_right_bottom,oklch(0.985_0.002_247.839)_0%,oklch(0.967_0.003_264.542)_50%,oklch(0.985_0.002_247.839)_100%)] box-border caret-transparent flex flex-col h-full outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] overflow-hidden"
            >
              <!-- ═══ HEADER (injected by components.js) ═══ -->
              <div id="header-slot"></div>

              <!-- Sidebar overlay for mobile -->
              <div id="sidebar-overlay" onclick="toggleSidebar()"></div>

              <div
                class="box-border caret-transparent flex basis-[0%] grow outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] overflow-hidden"
              >
                <!-- ═══ SIDEBAR (injected by components.js) ═══ -->
                <div id="sidebar-slot"></div>

                <!-- MAIN CONTENT -->
                <main
                  class="bg-[oklch(0.985_0.002_247.839)] box-border caret-transparent basis-[0%] grow outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] overflow-auto"
                >
                  <div
                    class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] p-6"
                  >
                    <!-- ── Page header row ── -->
                    <div
                      class="items-center box-border caret-transparent gap-x-3 flex flex-wrap justify-between outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-3 mb-4 animate-slide-up"
                    >
                      <div
                        class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                      >
                        <h2
                          class="text-[oklch(0.21_0.034_264.665)] text-2xl font-bold items-center box-border caret-transparent gap-x-2 flex leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-2"
                        >
                          <img
                            src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-23.svg"
                            alt="Icon"
                            class="text-[oklch(0.546_0.245_262.881)] box-border caret-transparent h-7 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-7"
                          />
                          Product Management
                        </h2>
                        <p
                          class="text-[oklch(0.551_0.027_264.364)] text-sm box-border caret-transparent leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] mt-0.5"
                        >
                          Inline editing · advanced bulk operations · import /
                          export · variant management
                        </p>
                      </div>
                      <div
                        class="box-border caret-transparent gap-x-2 flex flex-wrap outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-2"
                      >
                        <!-- Import CSV -->
                        <button
                          id="import-csv-btn"
                          class="text-sm font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2.5 py-0 rounded-lg border-solid"
                        >
                          <img
                            src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-24.svg"
                            alt="Icon"
                            class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                          />
                          Import CSV
                        </button>
                        <input
                          type="file"
                          id="csv-file-input"
                          class="items-baseline bg-transparent box-border caret-transparent hidden outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-ellipsis text-nowrap p-0"
                        />
                        <!-- Export CSV -->
                        <button
                          id="export-csv-btn"
                          class="text-sm font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2.5 py-0 rounded-lg border-solid"
                        >
                          <img
                            src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-25.svg"
                            alt="Icon"
                            class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                          />
                          Export CSV
                        </button>
                        <!-- Add Product -->
                        <button
                          id="add-product-btn"
                          class="text-white text-sm font-medium items-center bg-[oklch(0.546_0.245_262.881)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap px-2.5 py-0 rounded-lg"
                        >
                          <img
                            src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-26.svg"
                            alt="Icon"
                            class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                          />
                          Add Product
                        </button>
                      </div>
                    </div>

                    <!-- ── Stats cards: 5-col grid ── -->
                    <div
                      class="box-border caret-transparent gap-x-3 grid grid-cols-[repeat(2,minmax(0px,1fr))] outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-3 mb-4 md:grid-cols-[repeat(5,minmax(0px,1fr))]"
                    >
                      <!-- Total Products -->
                      <div
                        class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] border-b-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-r-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-t-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 rounded-xl border-l-[oklch(0.623_0.214_259.815)] border-l-4 border-b border-r border-t border-solid animate-slide-up stagger-1"
                      >
                        <div
                          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                        >
                          <div
                            class="text-[oklch(0.546_0.245_262.881)] text-xs font-medium items-center box-border caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 mb-1"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-27.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4"
                            />
                            Total Products
                          </div>
                          <div
                            class="text-[oklch(0.546_0.245_262.881)] text-2xl font-bold box-border caret-transparent leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            id="stat-total-products"
                          >
                            53
                          </div>
                        </div>
                      </div>

                      <!-- Categories -->
                      <div
                        class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] border-b-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-r-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-t-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 rounded-xl border-l-[oklch(0.627_0.265_303.9)] border-l-4 border-b border-r border-t border-solid animate-slide-up stagger-2"
                      >
                        <div
                          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                        >
                          <div
                            class="text-[oklch(0.558_0.288_302.321)] text-xs font-medium items-center box-border caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 mb-1"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-28.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4"
                            />
                            Categories
                          </div>
                          <div
                            class="text-[oklch(0.558_0.288_302.321)] text-2xl font-bold box-border caret-transparent leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            id="stat-categories"
                          >
                            8
                          </div>
                        </div>
                      </div>

                      <!-- Total Stock -->
                      <div
                        class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 border-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] rounded-xl border-l-4 border-b border-r border-t border-solid animate-slide-up stagger-3"
                      >
                        <div
                          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                        >
                          <div
                            class="text-[oklch(0.511_0.262_276.966)] text-xs font-medium items-center box-border caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 mb-1"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-29.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4"
                            />
                            Total Stock
                          </div>
                          <div
                            class="text-[oklch(0.511_0.262_276.966)] text-2xl font-bold box-border caret-transparent leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            id="stat-total-stock"
                          >
                            8316
                          </div>
                        </div>
                      </div>

                      <!-- Inventory Value -->
                      <div
                        class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] border-b-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-r-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] border-t-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 rounded-xl border-l-[oklch(0.723_0.219_149.579)] border-l-4 border-b border-r border-t border-solid animate-slide-up stagger-4"
                      >
                        <div
                          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                        >
                          <div
                            class="text-[oklch(0.627_0.194_149.214)] text-xs font-medium items-center box-border caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 mb-1"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-30.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4"
                            />
                            Inventory Value
                          </div>
                          <div
                            class="text-[oklch(0.627_0.194_149.214)] text-2xl font-bold box-border caret-transparent leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            id="stat-inventory-value"
                          >
                            £214079
                          </div>
                        </div>
                      </div>

                      <!-- Low / Out Stock -->
                      <div
                        class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 border-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] rounded-xl border-l-4 border-b border-r border-t border-solid animate-slide-up stagger-4"
                      >
                        <div
                          class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                        >
                          <div
                            class="text-[oklch(0.577_0.245_27.325)] text-xs font-medium items-center box-border caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 mb-1"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-31.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4"
                            />
                            Low / Out Stock
                          </div>
                          <div
                            class="text-[oklch(0.577_0.245_27.325)] text-2xl font-bold box-border caret-transparent leading-8 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            id="stat-low-out-stock"
                          >
                            0 / 0
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- ── Search + filters card ── -->
                    <div
                      class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] mb-4 rounded-xl border-solid animate-slide-up"
                      style="animation-delay: 0.4s; animation-fill-mode: both"
                    >
                      <div
                        class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pt-4 pb-6 px-4"
                      >
                        <!-- Search row -->
                        <div
                          class="items-center box-border caret-transparent gap-x-3 flex flex-wrap outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-3 mb-3"
                        >
                          <div
                            class="relative box-border caret-transparent basis-[0%] grow min-w-52 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-32.svg"
                              alt="Icon"
                              class="absolute text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-4 left-3 top-2/4 -translate-y-1/2"
                            />
                            <input
                              id="product-search"
                              type="text"
                              placeholder="Search name, SKU, category…"
                              value=""
                              class="text-base backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] box-border caret-transparent flex h-9 leading-6 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-full border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.6)] pl-10 pr-3 py-1 rounded-lg border-solid md:text-sm md:leading-5"
                            />
                          </div>
                          <button
                            id="filters-btn"
                            class="text-sm font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2.5 py-0 rounded-lg border-solid"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-33.svg"
                              alt="Icon"
                              class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                            />
                            Filters
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-34.svg"
                              alt="Icon"
                              class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                            />
                          </button>
                          <button
                            id="json-btn"
                            class="text-sm font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2.5 py-0 rounded-lg border-solid"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-35.svg"
                              alt="Icon"
                              class="box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4"
                            />
                            JSON
                          </button>
                        </div>

                        <!-- Column visibility toggle pills -->
                        <div
                          class="box-border caret-transparent gap-x-2 flex flex-wrap outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-2 pt-1 border-t border-solid border-black/10"
                        >
                          <span
                            class="text-[oklch(0.707_0.022_261.325)] text-xs self-center box-border caret-transparent block leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            >Columns:</span
                          >
                          <button
                            data-col="sku"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            SKU
                          </button>
                          <button
                            data-col="category"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Category
                          </button>
                          <button
                            data-col="wholesale"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Wholesale
                          </button>
                          <button
                            data-col="trader"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Trader
                          </button>
                          <button
                            data-col="retail"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Retail
                          </button>
                          <button
                            data-col="stock"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Stock
                          </button>
                          <button
                            data-col="value"
                            class="col-toggle text-[oklch(0.488_0.243_264.376)] text-xs font-medium items-center bg-[oklch(0.97_0.014_254.604)] caret-transparent gap-x-1.5 flex leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center border px-2 py-1 rounded border-solid border-[oklch(0.809_0.105_251.813)]"
                          >
                            <img
                              src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-36.svg"
                              alt="Icon"
                              class="box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-3"
                            />
                            Value
                          </button>
                        </div>
                      </div>
                    </div>

                    <!-- ── Products table card ── -->
                    <div
                      class="backdrop-blur-xl bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.8)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] box-border caret-transparent gap-x-6 flex flex-col outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-6 border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.5)] rounded-xl border-solid animate-slide-up"
                      style="animation-delay: 0.5s; animation-fill-mode: both"
                    >
                      <div
                        class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pb-6"
                      >
                        <!-- Table wrapper with horizontal scroll on mobile -->
                        <div
                          class="relative box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-full overflow-auto"
                        >
                          <table
                            id="product-table"
                            class="text-sm caret-transparent leading-5 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] w-full border-collapse"
                            style="min-width: 900px"
                          >
                            <thead
                              class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            >
                              <tr
                                class="bg-[oklch(0.985_0.002_247.839)] box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] align-middle border-b border-solid border-black/10"
                              >
                                <!-- Checkbox col -->
                                <th
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle w-10 px-2 py-0"
                                >
                                  <button
                                    class="text-base items-center bg-transparent caret-transparent flex leading-6 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-center text-nowrap p-0"
                                    id="select-all-btn"
                                  >
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-37.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-4"
                                    />
                                  </button>
                                </th>
                                <!-- Product Name -->
                                <th
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Product Name
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-38.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.546_0.245_262.881)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- SKU -->
                                <th
                                  data-col-header="sku"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    SKU
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Category -->
                                <th
                                  data-col-header="category"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Category
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Wholesale -->
                                <th
                                  data-col-header="wholesale"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Wholesale
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Trader -->
                                <th
                                  data-col-header="trader"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Trader
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Retail -->
                                <th
                                  data-col-header="retail"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Retail
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Stock -->
                                <th
                                  data-col-header="stock"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  <div
                                    class="items-center box-border caret-transparent flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap"
                                  >
                                    Stock
                                    <img
                                      src="https://c.animaapp.com/mlyr16ebcPAVbk/assets/icon-39.svg"
                                      alt="Icon"
                                      class="text-[oklch(0.707_0.022_261.325)] box-border caret-transparent h-3 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-3 ml-1"
                                    />
                                  </div>
                                </th>
                                <!-- Value -->
                                <th
                                  data-col-header="value"
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  Value
                                </th>
                                <!-- Actions -->
                                <th
                                  class="font-medium box-border caret-transparent h-10 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-left text-nowrap align-middle px-2 py-0"
                                >
                                  Actions
                                </th>
                              </tr>
                            </thead>
                            <tbody
                              id="product-tbody"
                              class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            ></tbody>
                          </table>
                        </div>

                        <!-- Pagination -->
                        <div
                          class="items-center bg-[oklch(0.985_0.002_247.839)] box-border caret-transparent flex justify-between outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] px-4 py-3 border-t border-solid border-black/10"
                        >
                          <span
                            id="pagination-info"
                            class="text-[oklch(0.551_0.027_264.364)] text-xs box-border caret-transparent block leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
                            >Showing 1–25 of 53</span
                          >
                          <div
                            class="items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1"
                            id="pagination-controls"
                          ></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </main>
              </div>
            </div>
            <section
              aria-label="Notifications alt+T"
              class="box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)]"
            ></section>
          </div>
        </div>
      </div>
    </div>

    <script>
      function toggleSidebar() {
        var sidebar = document.getElementById("main-sidebar");
        var overlay = document.getElementById("sidebar-overlay");
        if (sidebar) sidebar.classList.toggle("open");
        if (overlay) overlay.classList.toggle("active");
      }
    </script>

    <!-- Shared component loader (must come before data script) -->
    <script src="/components.js"></script>

    <!-- Dynamic product table renderer — extend of InventoryData.js -->
    <script src="/InventoryData.js"></script>

    <!-- ── New UI page logic ── -->
    <script>
      /* ── Asset base for new UI icons ── */
      const NEW_PM_ASSET_BASE = "https://c.animaapp.com/mlyr16ebcPAVbk/assets";

      /* ── Pagination state ── */
      const PAGE_SIZE = 25;
      let currentPage = 1;
      let filteredData = [];

      /* ══════════════════════════════════════════════════════════════
       *  ROW BUILDER — new UI with checkbox + 4 action buttons
       * ══════════════════════════════════════════════════════════════ */
      function buildProductRowNewUI(item, index, isLastRow) {
        const tr = document.createElement("tr");
        tr.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] align-middle" +
          (isLastRow ? "" : " border-b border-solid border-black/10");

        /* ── Checkbox ── */
        const tdCheck = document.createElement("td");
        tdCheck.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        const btnCheck = document.createElement("button");
        btnCheck.className =
          "text-base font-medium bg-transparent caret-transparent leading-6 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-center text-nowrap p-0 row-checkbox";
        btnCheck.dataset.index = index;
        const imgCheck = document.createElement("img");
        imgCheck.src = NEW_PM_ASSET_BASE + "/icon-40.svg";
        imgCheck.alt = "Icon";
        imgCheck.className =
          "text-[oklch(0.872_0.01_258.338)] box-border caret-transparent h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap w-4";
        btnCheck.appendChild(imgCheck);
        tdCheck.appendChild(btnCheck);

        /* ── Product Name ── */
        const tdProduct = document.createElement("td");
        tdProduct.className =
          "font-medium box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdProduct.setAttribute("data-col-cell", "name");
        const nameWrap = document.createElement("div");
        nameWrap.className =
          "items-center box-border caret-transparent gap-x-2 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-2 text-nowrap";
        const innerWrap = document.createElement("div");
        innerWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const nameSpan = document.createElement("span");
        nameSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        nameSpan.textContent = item.product;
        innerWrap.appendChild(nameSpan);
        nameWrap.appendChild(innerWrap);
        tdProduct.appendChild(nameWrap);

        /* ── SKU ── */
        const tdSku = document.createElement("td");
        tdSku.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdSku.setAttribute("data-col-cell", "sku");
        const skuWrap = document.createElement("div");
        skuWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const skuSpan = document.createElement("span");
        skuSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        skuSpan.textContent = item.sku;
        skuWrap.appendChild(skuSpan);
        tdSku.appendChild(skuWrap);

        /* ── Category ── */
        const tdCategory = document.createElement("td");
        tdCategory.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdCategory.setAttribute("data-col-cell", "category");
        const catWrap = document.createElement("div");
        catWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const catSpan = document.createElement("span");
        catSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        catSpan.textContent = item.category;
        catWrap.appendChild(catSpan);
        tdCategory.appendChild(catWrap);

        /* ── Wholesale ── */
        const tdWholesale = document.createElement("td");
        tdWholesale.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdWholesale.setAttribute("data-col-cell", "wholesale");
        const wsWrap = document.createElement("div");
        wsWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const wsSpan = document.createElement("span");
        wsSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        wsSpan.textContent = item.wholesale;
        wsWrap.appendChild(wsSpan);
        tdWholesale.appendChild(wsWrap);

        /* ── Trader ── */
        const tdTrader = document.createElement("td");
        tdTrader.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdTrader.setAttribute("data-col-cell", "trader");
        const trWrap = document.createElement("div");
        trWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const trSpan = document.createElement("span");
        trSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        trSpan.textContent = item.trader;
        trWrap.appendChild(trSpan);
        tdTrader.appendChild(trWrap);

        /* ── Retail ── */
        const tdRetail = document.createElement("td");
        tdRetail.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdRetail.setAttribute("data-col-cell", "retail");
        const retWrap = document.createElement("div");
        retWrap.className =
          "items-center box-border caret-transparent gap-x-1 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap";
        const retSpan = document.createElement("span");
        retSpan.className =
          "box-border caret-transparent block outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap";
        retSpan.textContent = item.price;
        retWrap.appendChild(retSpan);
        tdRetail.appendChild(retWrap);

        /* ── Stock badge ── */
        const tdStock = document.createElement("td");
        tdStock.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdStock.setAttribute("data-col-cell", "stock");
        const stockWrap = document.createElement("div");
        stockWrap.className =
          "items-center box-border caret-transparent gap-x-1.5 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-nowrap";
        const stockBadge = document.createElement("span");
        // Colour-code badge: green = in stock, amber = low, red = out
        let badgeBg = "bg-[oklch(0.696_0.17_162.48)]";
        if (item.status === "Low Stock")
          badgeBg = "bg-[oklch(0.646_0.222_41.116)]";
        if (item.status === "Out of Stock")
          badgeBg = "bg-[oklch(0.45_0.18_20)]";
        stockBadge.className =
          "text-white text-xs font-medium items-center " +
          badgeBg +
          " box-border caret-transparent gap-x-1 flex shrink-0 justify-center leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1 text-nowrap w-fit border overflow-hidden px-2 py-0.5 rounded-md border-solid border-transparent";
        stockBadge.textContent = item.stock;
        stockWrap.appendChild(stockBadge);
        tdStock.appendChild(stockWrap);

        /* ── Value ── */
        const tdValue = document.createElement("td");
        tdValue.className =
          "text-[oklch(0.373_0.034_259.733)] font-semibold box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        tdValue.setAttribute("data-col-cell", "value");
        tdValue.textContent = item.value;

        /* ── Actions: Edit + Variants + Duplicate + Delete ── */
        const tdActions = document.createElement("td");
        tdActions.className =
          "box-border caret-transparent outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] text-nowrap align-middle p-2";
        const actWrap = document.createElement("div");
        actWrap.className =
          "box-border caret-transparent gap-x-0.5 flex outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-0.5 text-nowrap";

        // Edit
        const btnEdit = document.createElement("button");
        btnEdit.title = "Edit product";
        btnEdit.className =
          "font-medium items-center bg-transparent caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap px-2.5 py-0 rounded-lg";
        const imgEd = document.createElement("img");
        imgEd.src = NEW_PM_ASSET_BASE + "/icon-42.svg";
        imgEd.alt = "Icon";
        imgEd.className =
          "text-[oklch(0.546_0.245_262.881)] box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4";
        btnEdit.appendChild(imgEd);

        // Variants
        const btnVariants = document.createElement("button");
        btnVariants.title = "Manage Variants";
        btnVariants.className =
          "relative font-medium items-center bg-transparent caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap px-2.5 py-0 rounded-lg";
        const imgVar = document.createElement("img");
        imgVar.src = NEW_PM_ASSET_BASE + "/icon-43.svg";
        imgVar.alt = "Icon";
        imgVar.className =
          "text-[oklch(0.606_0.25_292.717)] box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4";
        btnVariants.appendChild(imgVar);

        // Duplicate
        const btnDupe = document.createElement("button");
        btnDupe.title = "Duplicate";
        btnDupe.className =
          "font-medium items-center bg-transparent caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap px-2.5 py-0 rounded-lg";
        const imgDp = document.createElement("img");
        imgDp.src = NEW_PM_ASSET_BASE + "/icon-44.svg";
        imgDp.alt = "Icon";
        imgDp.className =
          "text-[oklch(0.551_0.027_264.364)] box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4";
        btnDupe.appendChild(imgDp);

        // Delete
        const btnDel = document.createElement("button");
        btnDel.title = "Delete";
        btnDel.className =
          "text-[oklch(0.637_0.237_25.331)] font-medium items-center bg-transparent caret-transparent gap-x-1.5 flex shrink-0 h-8 justify-center outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap px-2.5 py-0 rounded-lg";
        const imgDl = document.createElement("img");
        imgDl.src = NEW_PM_ASSET_BASE + "/icon-45.svg";
        imgDl.alt = "Icon";
        imgDl.className =
          "box-border caret-transparent shrink-0 h-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] pointer-events-none text-nowrap w-4";
        btnDel.appendChild(imgDl);

        actWrap.append(btnEdit, btnVariants, btnDupe, btnDel);
        tdActions.appendChild(actWrap);

        tr.append(
          tdCheck,
          tdProduct,
          tdSku,
          tdCategory,
          tdWholesale,
          tdTrader,
          tdRetail,
          tdStock,
          tdValue,
          tdActions,
        );
        return tr;
      }

      /* ══════════════════════════════════════════════════════════════
       *  RENDER TABLE PAGE
       * ══════════════════════════════════════════════════════════════ */
      function renderProductTableNewUI(data, page) {
        const tbody = document.getElementById("product-tbody");
        if (!tbody) return;

        const start = (page - 1) * PAGE_SIZE;
        const end = Math.min(start + PAGE_SIZE, data.length);
        const pageData = data.slice(start, end);

        tbody.innerHTML = "";
        const fragment = document.createDocumentFragment();
        pageData.forEach((item, i) => {
          const isLast = i === pageData.length - 1;
          fragment.appendChild(buildProductRowNewUI(item, start + i, isLast));
        });
        tbody.appendChild(fragment);

        updatePaginationUI(data.length, page);
      }

      /* ══════════════════════════════════════════════════════════════
       *  PAGINATION UI
       * ══════════════════════════════════════════════════════════════ */
      function updatePaginationUI(total, page) {
        const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));
        const start = (page - 1) * PAGE_SIZE + 1;
        const end = Math.min(page * PAGE_SIZE, total);

        const info = document.getElementById("pagination-info");
        if (info)
          info.textContent = "Showing " + start + "–" + end + " of " + total;

        const controls = document.getElementById("pagination-controls");
        if (!controls) return;
        controls.innerHTML = "";

        // Prev button
        const btnPrev = document.createElement("button");
        btnPrev.textContent = "Prev";
        btnPrev.className =
          "text-xs font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-7 justify-center leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2 py-0 rounded-lg border-solid" +
          (page === 1 ? " opacity-50 pointer-events-none" : "");
        if (page > 1)
          btnPrev.addEventListener("click", () => goToPage(page - 1));
        controls.appendChild(btnPrev);

        // Page number buttons (show up to 5 pages)
        const maxButtons = 5;
        let startPage = Math.max(1, page - Math.floor(maxButtons / 2));
        let endPage = Math.min(totalPages, startPage + maxButtons - 1);
        if (endPage - startPage < maxButtons - 1)
          startPage = Math.max(1, endPage - maxButtons + 1);

        for (let p = startPage; p <= endPage; p++) {
          const btnPage = document.createElement("button");
          btnPage.textContent = p;
          if (p === page) {
            btnPage.className =
              "text-white text-xs font-medium items-center bg-[oklch(0.546_0.245_262.881)] shadow-[rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0)_0px_0px_0px_0px,rgba(0,0,0,0.1)_0px_1px_3px_0px,rgba(0,0,0,0.1)_0px_1px_2px_-1px] caret-transparent gap-x-1.5 flex shrink-0 h-7 justify-center leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap w-7 p-0 rounded-lg";
          } else {
            btnPage.className =
              "text-xs font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-7 justify-center leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap w-7 border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] p-0 rounded-lg border-solid";
            btnPage.addEventListener(
              "click",
              (function (pg) {
                return function () {
                  goToPage(pg);
                };
              })(p),
            );
          }
          controls.appendChild(btnPage);
        }

        // Next button
        const btnNext = document.createElement("button");
        btnNext.textContent = "Next";
        btnNext.className =
          "text-xs font-medium items-center backdrop-blur bg-[oklab(0.999994_0.0000455677_0.0000200868_/_0.6)] caret-transparent gap-x-1.5 flex shrink-0 h-7 justify-center leading-4 outline-[oklab(0.515373_-0.0460556_-0.153747_/_0.5)] gap-y-1.5 text-center text-nowrap border border-[oklab(0.928_-0.000571842_-0.00597269_/_0.8)] px-2 py-0 rounded-lg border-solid" +
          (page === totalPages ? " opacity-50 pointer-events-none" : "");
        if (page < totalPages)
          btnNext.addEventListener("click", () => goToPage(page + 1));
        controls.appendChild(btnNext);
      }

      function goToPage(page) {
        currentPage = page;
        renderProductTableNewUI(filteredData, currentPage);
      }

      /* ══════════════════════════════════════════════════════════════
       *  SEARCH FILTER
       * ══════════════════════════════════════════════════════════════ */
      function applySearch(query) {
        if (!query || query.trim() === "") {
          filteredData =
            typeof inventoryData !== "undefined" ? inventoryData.slice() : [];
        } else {
          const lc = query.toLowerCase();
          filteredData = (
            typeof inventoryData !== "undefined" ? inventoryData : []
          ).filter(
            (item) =>
              item.product.toLowerCase().includes(lc) ||
              item.sku.toLowerCase().includes(lc) ||
              item.category.toLowerCase().includes(lc),
          );
        }
        currentPage = 1;
        renderProductTableNewUI(filteredData, currentPage);
      }

      /* ══════════════════════════════════════════════════════════════
       *  COLUMN VISIBILITY TOGGLE
       * ══════════════════════════════════════════════════════════════ */
      // Maps toggle button data-col to table header data-col-header and cell data-col-cell
      const colMap = {
        sku: "sku",
        category: "category",
        wholesale: "wholesale",
        trader: "trader",
        retail: "retail",
        stock: "stock",
        value: "value",
      };
      const hiddenCols = new Set();

      function applyColVisibility() {
        Object.keys(colMap).forEach((col) => {
          const isHidden = hiddenCols.has(col);
          // Header
          const th = document.querySelector('[data-col-header="' + col + '"]');
          if (th) th.style.display = isHidden ? "none" : "";
          // Body cells
          document
            .querySelectorAll('[data-col-cell="' + col + '"]')
            .forEach((td) => {
              td.style.display = isHidden ? "none" : "";
            });
        });
      }

      /* ══════════════════════════════════════════════════════════════
       *  INIT — runs after InventoryData.js is loaded
       * ══════════════════════════════════════════════════════════════ */
      document.addEventListener("DOMContentLoaded", function () {
        // Initial render using inventoryData from InventoryData.js
        filteredData =
          typeof inventoryData !== "undefined" ? inventoryData.slice() : [];
        renderProductTableNewUI(filteredData, currentPage);

        // Search input
        const searchInput = document.getElementById("product-search");
        if (searchInput) {
          searchInput.addEventListener("input", function () {
            applySearch(this.value);
          });
        }

        // Column toggle pills
        document.querySelectorAll(".col-toggle").forEach(function (btn) {
          btn.addEventListener("click", function () {
            const col = this.dataset.col;
            if (hiddenCols.has(col)) {
              hiddenCols.delete(col);
              // Restore active style
              this.className = this.className.replace(" opacity-40", "");
            } else {
              hiddenCols.add(col);
              // Dim the pill
              if (!this.className.includes("opacity-40")) {
                this.className += " opacity-40";
              }
            }
            applyColVisibility();
          });
        });

        // Import CSV — trigger file picker
        const importBtn = document.getElementById("import-csv-btn");
        const fileInput = document.getElementById("csv-file-input");
        if (importBtn && fileInput) {
          importBtn.addEventListener("click", function () {
            fileInput.click();
          });
          fileInput.addEventListener("change", function () {
            // File selected — extend with your CSV parsing logic here
            if (this.files && this.files.length > 0) {
              console.log("CSV file selected:", this.files[0].name);
            }
          });
        }

        // Export CSV
        const exportBtn = document.getElementById("export-csv-btn");
        if (exportBtn) {
          exportBtn.addEventListener("click", function () {
            if (typeof inventoryData === "undefined") return;
            const headers = [
              "product",
              "sku",
              "category",
              "wholesale",
              "trader",
              "price",
              "stock",
              "status",
              "value",
            ];
            const rows = inventoryData.map((item) =>
              headers
                .map((h) => '"' + (item[h] !== undefined ? item[h] : "") + '"')
                .join(","),
            );
            const csv = [headers.join(",")].concat(rows).join("\n");
            const blob = new Blob([csv], { type: "text/csv" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "products.csv";
            a.click();
            URL.revokeObjectURL(url);
          });
        }

        // JSON view button
        const jsonBtn = document.getElementById("json-btn");
        if (jsonBtn) {
          jsonBtn.addEventListener("click", function () {
            if (typeof inventoryData !== "undefined") {
              const w = window.open("", "_blank");
              w.document.write(
                "<pre>" + JSON.stringify(inventoryData, null, 2) + "</pre>",
              );
            }
          });
        }

        // Filters button — placeholder for future filter panel
        const filtersBtn = document.getElementById("filters-btn");
        if (filtersBtn) {
          filtersBtn.addEventListener("click", function () {
            // Extend with your filter panel logic here
            console.log("Filters panel toggled");
          });
        }

        // Add Product button
        const addBtn = document.getElementById("add-product-btn");
        if (addBtn) {
          addBtn.addEventListener("click", function () {
            // Extend with your add-product modal/form logic here
            console.log("Add Product clicked");
          });
        }
      });
    </script>
  </body>
</html>
